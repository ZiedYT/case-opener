<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Case Opener</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="settings-page h-screen overflow-hidden p-8">
    <div class="h-full flex flex-col max-w-6xl mx-auto">
        <!-- Cases Management -->
        <div class="settings-container flex flex-col flex-1 min-h-0">
            <div class="cases-management-header">
                <h2 class="text-lg font-semibold">Manage Cases</h2>
                <div class="cases-header-buttons">
                    <button onclick="addNewCase()" class="px-3 py-1 font-semibold text-sm">+ Add New Case</button>
                    <button onclick="goBack()" class="px-3 py-1 font-semibold text-sm close-button">×</button>
                </div>
            </div>

            <div id="cases-container" class="cases-container-inner"></div>
        </div>
    </div>

    <!-- Add/Edit Case Modal -->
    <div id="case-modal" class="settings-modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="settings-modal-content max-w-2xl w-90 max-h-90vh">
            <!-- Title Bar -->
            <div class="settings-modal-header">
                <h3 id="case-modal-title">Add New Case</h3>
                <button onclick="closeCaseModal()" class="settings-modal-close-btn">×</button>
            </div>
            
            <!-- Modal Content -->
            <div class="settings-modal-body">
                <!-- Case Details -->
                <fieldset class="settings-fieldset">
                    <legend>Case Details</legend>
                    <div class="settings-form-group">
                        <div class="settings-form-item">
                            <label>Case Name</label>
                            <input type="text" id="case-name" placeholder="e.g., The Prime Case">
                        </div>
                        <div class="settings-form-item">
                            <label>Image URL</label>
                            <input type="text" id="case-image" placeholder="https://...">
                        </div>
                        <div class="settings-form-item">
                            <label>Description</label>
                            <textarea id="case-description" placeholder="e.g., A premium case containing rare items..." rows="3"></textarea>
                        </div>
                    </div>
                </fieldset>

                <!-- Items in Case -->
                <fieldset class="settings-fieldset">
                    <legend>Items in Case</legend>
                    <div class="items-buttons-group">
                        <button onclick="addNewItem()">+ Add Item</button>
                    </div>
                    <div id="items-container" class="items-container-modal"></div>
                </fieldset>

                <!-- Modal Actions -->
                <div class="settings-modal-actions">
                    <button onclick="saveCase()">Save Case</button>
                    <button onclick="closeCaseModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Item Modal -->
    <div id="item-modal" class="settings-modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="settings-modal-content max-w-sm w-90">
            <!-- Title Bar -->
            <div class="settings-modal-header">
                <h3 id="item-modal-title">Add New Item</h3>
                <button onclick="closeItemModal()" class="settings-modal-close-btn">×</button>
            </div>
            
            <!-- Modal Content -->
            <div class="settings-modal-body">
                <!-- Item Details -->
                <div class="settings-form-group mb-3">
                    <div class="settings-form-item">
                        <label>Item Name</label>
                        <input type="text" id="item-name" placeholder="e.g., Legendary Sword">
                    </div>
                    <div class="settings-form-item">
                        <label>Description</label>
                        <textarea id="item-description" placeholder="e.g., A powerful weapon" rows="4"></textarea>
                    </div>
                    <div class="settings-form-item">
                        <label>Image URL</label>
                        <input type="text" id="item-image" placeholder="https://...">
                    </div>
                    <div class="settings-form-item">
                        <label>Rarity</label>
                        <select id="item-rarity">
                            <option value="COMMON">Common</option>
                            <option value="UNCOMMON">Uncommon</option>
                            <option value="RARE">Rare</option>
                            <option value="LEGENDARY">Legendary</option>
                        </select>
                    </div>
                </div>

                <!-- Modal Actions -->
                <div class="settings-modal-actions">
                    <button onclick="saveItem()">Save Item</button>
                    <button onclick="closeItemModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="settings.js"></script>
</body>
</html>
